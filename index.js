const express = require('express');
const bodyParser = require('body-parser');

const app = express();
const port = 3000;


let usedUrls = [];


app.use(bodyParser.json());


app.get('/kshitiz', (req, res) => {
  
  const tiktokUrls = [
    'https://www.tiktok.com/@kshitizgrxy/video/7329103393945832712?is_from_webapp=1&sender_device=pc',
    'https://www.tiktok.com/@kshitizgrxy/video/7328731861025393928?is_from_webapp=1&sender_device=pc',
    'https://www.tiktok.com/@kshitizgrxy/video/7328360638244293906?is_from_webapp=1&sender_device=pc',
    'https://www.tiktok.com/@kshitizgrxy/video/7327247192358440200?is_from_webapp=1&sender_device=pc',
    'https://www.tiktok.com/@kshitizgrxy/video/7326875765994229000?is_from_webapp=1&sender_device=pc',
    'https://www.tiktok.com/@kshitizgrxy/video/7326505088049106184?is_from_webapp=1&sender_device=pc',
    'https://www.tiktok.com/@kshitizgrxy/video/7325762731687136519?is_from_webapp=1&sender_device=pc',
    'https://www.tiktok.com/@kshitizgrxy/video/7325391962490653970?is_from_webapp=1&sender_device=pc',
    'https://www.tiktok.com/@kshitizgrxy/video/7324278802157178130?is_from_webapp=1&sender_device=pc',
    'https://www.tiktok.com/@kshitizgrxy/video/7323907706434227464?is_from_webapp=1&sender_device=pc',
    'https://www.tiktok.com/@kshitizgrxy/video/7323536627236637960?is_from_webapp=1&sender_device=pc',
    'https://www.tiktok.com/@kshitizgrxy/video/7322794365938601234?is_from_webapp=1&sender_device=pc',
    'https://www.tiktok.com/@kshitizgrxy/video/7322424144669199634?is_from_webapp=1&sender_device=pc',
    'https://www.tiktok.com/@kshitizgrxy/video/7322052027926809863?is_from_webapp=1&sender_device=pc',
    'https://www.tiktok.com/@kshitizgrxy/video/7321680951476489490?is_from_webapp=1&sender_device=pc',
    'https://www.tiktok.com/@kshitizgrxy/video/7320938876330200327?is_from_webapp=1&sender_device=pc',
    'https://www.tiktok.com/@kshitizgrxy/video/7320568092600405256?is_from_webapp=1&sender_device=pc',
    'https://www.tiktok.com/@kshitizgrxy/video/7319825690067750152?is_from_webapp=1&sender_device=pc',
    'https://www.tiktok.com/@kshitizgrxy/video/7319450439794035986?is_from_webapp=1&sender_device=pc',
    'https://www.tiktok.com/@kshitizgrxy/video/7317970407657622791?is_from_webapp=1&sender_device=pc',
    'https://www.tiktok.com/@kshitizgrxy/video/7316857251598208274?is_from_webapp=1&sender_device=pc',
    'https://www.tiktok.com/@kshitizgrxy/video/7316486329431280903?is_from_webapp=1&sender_device=pc',
    'https://www.tiktok.com/@kshitizgrxy/video/7316114721780944135?is_from_webapp=1&sender_device=pc',
    'https://www.tiktok.com/@kshitizgrxy/video/7315003263475027207?is_from_webapp=1&sender_device=pc',
    'https://www.tiktok.com/@kshitizgrxy/video/7314630572997971207?is_from_webapp=1&sender_device=pc',
    'https://www.tiktok.com/@kshitizgrxy/video/7313888119818882312?is_from_webapp=1&sender_device=pc',
    'https://www.tiktok.com/@kshitizgrxy/video/7313146275195555079?is_from_webapp=1&sender_device=pc',
    '',
    '',
    '',
    '',
    '',
      '',
    '',
    '',
    '',
    '',
    '',
    '',
    '',
      '',
    '',
    '',
    '',
    '',
    '',
    '',
    '',
      '',
    '',
    '',
    '',
    '',
    '',
    '',
    '',
      '',
    '',
    '',
    '',
    '',
    '',
    '',
    '',
      '',
    '',
    '',
    '',
    '',
    '',
    '',
    '',
      '',
    '',
    '',
    '',
    '',
    '',
    '',
    '',
      '',
    '',
    '',
    '',
    '',
    '',
    '',
    '',
      '',
    '',
    '',
    '',
    '',
    '',
    '',
    '',
      '',
    '',
    '',
    '',
    '',
    '',
    '',
    '',
      '',
    '',
    '',
    '',
    '',
    '',
    '',
    '',
      '',
    '',
    '',
    '',
    '',
    '',
    '',
    '',
      '',
    '',
    '',
    '',
    '',
    '',
    '',
    '',
      '',
    '',
    '',
    '',
    '',
    '',
    '',
    '',
      '',
    '',
    '',
    '',
    '',
    '',
    '',
    '',
      '',
    '',
    '',
    '',
    '',
    '',
    '',
    '',
      '',
    '',
    '',
    '',
    '',
    '',
    '',
    '',
      '',
    '',
    '',
    '',
    '',
    '',
    '',
    '',
      '',
    '',
    '',
    '',
    '',
    '',
    '',
    '',
      '',
    '',
    '',
    '',
    '',
    '',
    '',
    '',
      '',
    '',
    '',
    '',
    '',
    '',
    '',
    '',
      '',
    '',
    '',
    '',
    '',
    '',
    '',
    '',
  
  
    
  ];

  
  const availableUrls = tiktokUrls.filter(url => !usedUrls.includes(url));

  if (availableUrls.length === 0) {
    
    usedUrls = [];
  } else {
   
    const randomUrl = availableUrls[Math.floor(Math.random() * availableUrls.length)];

   
    usedUrls.push(randomUrl);

    
    res.json({ url: randomUrl });
  }
});


app.listen(port, () => {
  console.log(`Server is running on http://localhost:${port}`);
});
